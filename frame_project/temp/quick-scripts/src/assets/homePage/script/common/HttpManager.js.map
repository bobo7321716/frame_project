{"version":3,"sources":["assets\\homePage\\script\\common\\HttpManager.ts"],"names":[],"mappings":";;;;;;;AAAA,IAAY,SAGX;AAHD,WAAY,SAAS;IACjB,wBAAW,CAAA;IACX,0BAAa,CAAA;AACjB,CAAC,EAHW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAGpB;AAED,IAAY,UAEX;AAFD,WAAY,UAAU;IAClB,mDAAQ,CAAA;AACZ,CAAC,EAFW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAErB;AAED;IAAA;IAmDA,CAAC;IA/CU,gBAAI,GAAX,UAAY,GAAW,EAAE,MAAkB,EAAE,QAAmC,EAAE,OAAyB;QAAlF,uBAAA,EAAA,aAAkB;QAAE,yBAAA,EAAA,WAAsB,SAAS,CAAC,GAAG;QAAE,wBAAA,EAAA,iBAAyB;QAEvG,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;YAC/B,GAAG,CAAC,kBAAkB,GAAG;gBACrB,IAAI,GAAG,CAAC,UAAU,IAAI,CAAC,EAAE;oBACrB,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE;wBACvC,IAAI;4BACA,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;yBACzC;wBAAC,OAAO,KAAK,EAAE;4BACZ,MAAM,CAAC,GAAG,CAAC,CAAC;yBACf;qBACJ;yBAAM;wBACH,MAAM,CAAC,GAAG,CAAC,CAAC;qBACf;oBACD,GAAG,IAAI,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,EAAE,CAAC;iBACnC;YACL,CAAC,CAAC;YAEF,GAAG,CAAC,OAAO,GAAG,UAAA,GAAG;gBACb,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;gBAClC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAChC,CAAC,CAAC;YAEF,GAAG,CAAC,SAAS,GAAG;gBACZ,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC5B,GAAG,IAAI,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,EAAE,CAAC;YACpC,CAAC,CAAA;YAED,IAAI,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,QAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACnF,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;aACnC;YACD,IAAI,QAAQ,IAAI,SAAS,CAAC,GAAG,IAAI,MAAM,EAAE;gBACrC,GAAG,IAAI,GAAG,GAAG,MAAM,CAAC;gBACpB,MAAM,GAAG,IAAI,CAAC;aACjB;YACD,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;YAC9B,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC;YAEtB,IAAI,QAAQ,IAAI,SAAS,CAAC,IAAI,EAAE;gBAC5B,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,iCAAiC,CAAC,CAAC;aAC3E;YACD,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,0BAAwB,GAAK,CAAC,CAAC;YAC3C,OAAO,CAAC,GAAG,CAAC,2BAAyB,MAAQ,CAAC,CAAC;QACnD,CAAC,CAAC,CAAA;IACN,CAAC;IACL,kBAAC;AAAD,CAnDA,AAmDC,IAAA","file":"","sourceRoot":"/","sourcesContent":["export enum HTTP_TYPE {\r\n    GET = 'GET',\r\n    POST = 'POST'\r\n}\r\n\r\nexport enum HTTP_ERROR {\r\n    TIME_OUT\r\n}\r\n\r\nexport default class HttpManager {\r\n    static send(url: string, params?: string, httpType?: HTTP_TYPE | string, timeout?: number): Promise<any>;\r\n    static send(url: string, params?: object, httpType?: HTTP_TYPE | string, timeout?: number): Promise<any>;\r\n\r\n    static send(url: string, params: any = null, httpType: HTTP_TYPE = HTTP_TYPE.GET, timeout: number = 5000000): Promise<any> {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState == 4) {\r\n                    if (xhr.status >= 200 && xhr.status < 400) {\r\n                        try {\r\n                            resolve(JSON.parse(xhr.responseText));\r\n                        } catch (error) {\r\n                            reject(xhr);\r\n                        }\r\n                    } else {\r\n                        reject(xhr);\r\n                    }\r\n                    xhr && xhr.abort && xhr.abort();\r\n                }\r\n            };\r\n\r\n            xhr.onerror = err => {\r\n                console.log('request error', err);\r\n                reject(HTTP_ERROR.TIME_OUT);\r\n            };\r\n\r\n            xhr.ontimeout = () => {\r\n                reject(HTTP_ERROR.TIME_OUT);\r\n                xhr && xhr.abort && xhr.abort();\r\n            }\r\n\r\n            if (params && typeof (params) == \"object\" && !params.length && !Array.isArray(params)) {\r\n                params = JSON.stringify(params);\r\n            }\r\n            if (httpType == HTTP_TYPE.GET && params) {\r\n                url += '?' + params;\r\n                params = null;\r\n            }\r\n            xhr.open(httpType, url, true);\r\n            xhr.timeout = timeout;\r\n\r\n            if (httpType == HTTP_TYPE.POST) {\r\n                xhr.setRequestHeader(\"Content-Type\", 'application/json; charset=utf-8');\r\n            }\r\n            xhr.send(params);\r\n            console.log(`[hs_game]Request URL:${url}`);\r\n            console.log(`[hs_game]Request Data:${params}`);\r\n        })\r\n    }\r\n}"]}