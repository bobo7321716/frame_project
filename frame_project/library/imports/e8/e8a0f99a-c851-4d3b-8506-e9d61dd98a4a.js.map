{"version":3,"sources":["assets\\homePage\\script\\common\\RedPointTag.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wDAAuD;AACvD,8DAAyD;AACzD,mCAAqC;AACrC,+BAA8B;AAExB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAyC,+BAAY;IAArD;QAAA,qEAiCC;QA9BG,UAAI,GAAa,EAAE,CAAC;QAGpB,WAAK,GAAY,IAAI,CAAC;;IA2B1B,CAAC;IAzBa,4BAAM,GAAhB;QACI,2BAAY,CAAC,WAAW,CAAC,kBAAS,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAChF,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;QAC5B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;aACf,aAAa,CACV,EAAE,CAAC,KAAK,EAAE;aACL,MAAM,CAAC,CAAC,EACL,EAAE,CAAC,KAAK,EAAE;aACL,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;aACtB,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;aACvB,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAC7B;aACA,KAAK,CAAC,CAAC,CAAC,CAChB;aACA,KAAK,EAAE,CAAC;IACjB,CAAC;IAES,8BAAQ,GAAlB;QACI,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,qCAAe,GAAf;QACI,IAAI,OAAO,GAAG,WAAI,CAAC,iBAAiB,CAAC,yBAAe,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;IAC3C,CAAC;IA7BD;QADC,QAAQ,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;6CACH;IAGpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACI;IANL,WAAW;QAD/B,OAAO;OACa,WAAW,CAiC/B;IAAD,kBAAC;CAjCD,AAiCC,CAjCwC,EAAE,CAAC,SAAS,GAiCpD;kBAjCoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import { EventManager } from \"../manager/EventManager\";\r\nimport RedPointManager from \"../manager/RedPointManager\";\r\nimport { EventEnum } from \"./Global\";\r\nimport { Util } from \"./Util\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RedPointTag extends cc.Component {\r\n\r\n    @property([cc.Integer])\r\n    keys: number[] = [];\r\n\r\n    @property(cc.Node)\r\n    point: cc.Node = null;\r\n\r\n    protected onLoad(): void {\r\n        EventManager.addListener(EventEnum.RedPointRefresh, this.refreshRedPoint, this);\r\n        this.point.stopAllActions();\r\n        cc.tween(this.point)\r\n            .repeatForever(\r\n                cc.tween()\r\n                    .repeat(2,\r\n                        cc.tween()\r\n                            .to(0.2, { angle: 10 })\r\n                            .to(0.2, { angle: -10 })\r\n                            .to(0.1, { angle: 0 })\r\n                    )\r\n                    .delay(1)\r\n            )\r\n            .start();\r\n    }\r\n\r\n    protected onEnable(): void {\r\n        this.refreshRedPoint();\r\n    }\r\n\r\n    refreshRedPoint() {\r\n        let sameArr = Util.getCommonElements(RedPointManager.ins.allShowRedPoints, this.keys);\r\n        this.point.active = sameArr.length > 0;\r\n    }\r\n}\r\n"]}